参考上面测试用例的测试流程，输出风格，编写符合下列要求的测试用例，使用go编写：一、符合 RESTful 规范的 GET 单用户资源接口测试用例要求

1. 接口规范性测试
URL 路径校验：验证接口路径是否符合 GET /api/{version}/users/{id} 格式（如 GET /api/v1/users/123），id 为资源唯一标识（如 UUID、自增 ID），不包含动词法错误（如多余斜杠、特殊字符）。
HTTP 方法校验：必须使用 GET 方法，验证使用其他方法（如 POST、PUT）时是否返回 405 Method Not Allowed。
版本控制校验：若接口版本控制（如路径中的 v1），验证版本不存在时是否返回合理错误（如 404 Not Found）。
2. 参数校验测试
必填参数校验：id 为空时，是否返回 400 Bad Request，且错误信息明确（如 “用户 ID 不能为空”）。
格式合法性校验：
id 格式不符合业务规则（如 UUID 格式错误、自增 ID 为负数）时，返回 400 Bad Request。
特殊字符处理（如 id 包含 SQL 注入字符），接口需过滤或拒绝，不引发服务异常。
权限校验：
访问无权查看的用户 ID（如普通用户查询管理员信息），是否返回 403 Forbidden。
未登录状态下查询，是否返回 401 Unauthorized。
3. 响应规范性测试
状态码校验：
资源存在时返回 200 OK。
资源不存在时返回 404 Not Found（而非 200 + 错误消息）。
服务器内部错误时返回 500 Internal Server Error，且不泄露敏感信息（如堆栈日志）。
响应结构校验：
响应体格式统一（如 JSON），包含必要字段（如 data 存放用户信息、code 业务码、message 提示信息）。
无冗余字段（如避免返回数据库内部字段、加密密钥等）。
字段类型正确（如 id 为字符串、age 为整数、created_at 为 ISO 时间格式）。
幂等性校验：同一 id 多次查询，响应结果一致（GET 方法必须幂等）。
二、生产级大并发查询测试用例要求
1. 性能指标测试
吞吐量（QPS）：
目标：在硬件资源饱和前，记录接口最大支撑 QPS（如目标 10 万 QPS）。
场景：逐步提升并发用户数（如从 100 到 10000 虚拟用户），监控 QPS 随并发增长的趋势。
响应时间：
分位值要求：P50 ≤ 50ms，P90 ≤ 100ms，P99 ≤ 200ms（缓存命中场景）；P99 ≤ 500ms（缓存未命中、查库场景）。
稳定性：持续压测中（如 30 分钟），响应时间波动幅度 ≤ 20%。
资源占用：
应用服务器：CPU 使用率 ≤ 80%，内存使用率稳定（无泄漏），GC 暂停时间 ≤ 10ms。
依赖服务：
Redis（缓存）：QPS 与接口 QPS 匹配，响应时间 ≤ 10ms，内存使用率 ≤ 70%。
数据库：查库 QPS ≤ 接口 QPS 的 5%（依赖缓存命中率），慢查询（> 100ms）数量为 0。
2. 并发场景测试
缓存穿透防护：
场景：高频查询不存在的用户 ID（如随机无效 UUID），占比 20% 混合流量。
要求：布隆过滤器拦截率 ≥ 99.9%，数据库查询量 ≤ 总请求的 0.1%（避免压垮数据库）。
热点资源并发：
场景：1 个热门用户 ID（如高访问量用户）承受 50% 总流量（如 5 万 QPS 集中查询）。
要求：无缓存雪崩（热点 key 不过期或自动续期），响应时间 P99 ≤ 50ms，无重复查库（缓存击穿）。
混合流量测试：
场景：80% 有效 ID（含 30% 缓存未命中）+ 20% 无效 ID，总 QPS 为业务峰值的 1.2 倍，持续 1 小时。
要求：错误率 ≤ 0.01%，无服务宕机，资源占用稳定。
3. 容错与稳定性测试
依赖故障容错：
Redis 故障：缓存服务宕机或超时，接口自动降级为查库，响应时间 P99 ≤ 1s，错误率 ≤ 5%，且 Redis 恢复后自动切换回缓存模式。
数据库慢查询：模拟数据库单表查询延迟（如加锁导致 1s 响应），接口需有超时控制（如 500ms 超时），失败请求比例 ≤ 10%，且不引发级联故障。
长时间稳定性：
场景：中等并发（业务峰值的 70%）持续压测 24 小时。
要求：
累计错误率 ≤ 0.1%，无内存泄漏（内存使用趋势平稳）。
关键指标（QPS、响应时间）波动 ≤ 10%。
日志无频繁报错（如连接超时、资源耗尽）。
4. 监控与可观测性测试
指标埋点校验：
必须包含：QPS、响应时间分位值、错误率（按状态码）、缓存命中率、布隆过滤器拦截率、数据库查询次数。
指标精度：数据延迟 ≤ 10s，统计误差 ≤ 5%。
告警触发测试：
模拟异常场景（如响应时间 P99 突增至 1s、错误率 > 1%），验证告警是否按预期触发（如短信、邮件通知）。
总结
测试用例需覆盖 RESTful 规范性（路径、方法、响应）和 生产级并发能力（性能、容错、稳定性），核心目标是：接口符合规范、高并发下响应稳定、资源占用可控、故障可感知且容错。
