1.了解审计的意义和如何实现?

测试记录
1. deleteforce
2. get 
3. login
4.logout 
5.create
6. jwt

internal/
└── apiserver/
    └── store/
        ├── store.go                  # 接口定义
        └── mysql/
            ├── datastore.go          # 外层包：工厂实现
            └── user/
                └── user.go           # 内层包：user 实现（包含 NewUsers 函数）
            └── policy/
                └── policy.go         # 内层包：policy 实现

 blacklist-key-prefix: "jwt:blacklist:" # 黑名单在Redis中的键前缀 (可配置)

 案二：短期令牌 + Refresh Token 方案的具体配置

 存储选择：

对于黑名单/会话存储：Redis 是绝对的首选，因为它性能极高且原生支持TTL（自动过期），完美符合此类场景。

黑名单前缀：允许在多个微服务共用一个Redis集群时避免键名冲突。

用户输入用户名和密码登录。

认证服务器验证凭据是否正确。

验证通过后，认证服务器：

生成一个长期的Refresh Token，将其唯一标识（及其关联的用户ID、过期时间）保存到数据库或Redis中。

生成一个短期的Access Token（通常是JWT），其中包含用户身份信息（如User ID）。

将这两个令牌返回给客户端。

客户端将Access Token保存在内存中（如JS变量），将Refresh Token极其安全地保存起来（最佳实践是使用 HttpOnly Cookie，防止XSS攻击读取）。

客户端用旧的Access Token调用API。

资源服务器验证后发现Token已过期，返回 401 Unauthorized 错误。

客户端捕获到这个错误后，自动向认证服务器的专门端点（如 /auth/refresh）发起请求，请求中只携带Refresh Token（注意：不是Access Token）。

认证服务器：

收到Refresh Token。

在数据库/Redis中查找该Token记录，检查其是否存在、是否过期、是否已被吊销。

如果有效，认证服务器会：

签发一个新的、短期有效的Access Token 返回给客户端。

（可选，为了更安全）吊销旧的Refresh Token并颁发一个新的Refresh Token 返回给客户端（称为Refresh Token Rotation）。

客户端收到新的Access Token后，自动重试刚才失败的API请求，成功获取数据。用户对此过程毫无察觉。
用户点击“登出”按钮。

客户端向认证服务器发送登出请求，该请求需要携带Refresh Token以供识别。

认证服务器在数据库/Redis中删除或标记该Refresh Token记录为已吊销。

认证服务器返回成功，客户端清除本地存储的Access Token和Refresh Token。

效果：由于Refresh Token已被吊销，攻击者即使窃取了之前的Refresh Token也无法再获取新的Access Token。而旧的Access Token由于生命周期很短，也会在几分钟后自动失效。从而实现了“立即登出”的安全效果。





这篇文章是给一个院长看的方案，他对业务非常熟悉。对技术不熟，所以要从业务层面对改方案进行调整。把事情讲明白。从政策层面，便民层面，关键是盈利层面。下面的内容是找另一个院长对方案的点评；关于智能摆药中心研讨会议纪要（宋长利）
       着重从医院管理方（院长）和患者角度，以及我们需要什么，谈一点想法。
一、我们的优势：1、各种专利设备（独一无二的智能软件、柯罗摆药机、冷链物流等…）
2、为医疗机构节约成本，提升药品管理质控能力。
3、减少政府对医院、社区卫生服务中心等医疗机构的人员及药品成本的资金投入。
4、为患者，尤其是失能病人提供准确、便捷的服务。
二、吸引医疗机构与我们合作的几个方面。
1、帮助医疗机构减员增效，减少人力资源投入。
2、提升药品质控能力。
3、减少医方在药品方面的投入成本。
4、提升医院药房等级，更优于社会普通药房。a满足医院HIS系统、医保ERP系统.b区块链与加密技术（不可更改与可追溯、记录全生命周期）c冷链存储。d临床药师配备齐全。
三、关于处方流转，我们该做什么？
1、准确无误地“照方抓药”。
2、可追溯性。
3、重要问题与医疗机构及时沟通，纠正。
四、必须争取到政府的全力支持、推广。
五、建议将智能摆药中心命名为“AI药房”，推广为AI医院的一部分（药房部分）
六、关于取费
1、药事服务费；
2、处方服务费；
3、为药商提供的药事服务费、推销费、广告费等。
七、面临问题
1、医院意愿不强；
2、药店承受能力不均；
3、患者目前不认识，信任度问题；
4、项目如何落地问题。 围绕这国家三级医院智慧评审的目标（可作为卫健对医院的硬性要求）。根据这些资料，先列出方案的大纲。