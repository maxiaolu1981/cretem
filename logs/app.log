{"level":"info","time":"2025-08-07 22:56:29.416","logger":"server","caller":"log/log.go:43","msg":"服务开始初始化","service":"user-api","version":"v1.0.0"}
{"level":"info","time":"2025-08-07 22:56:29.417","logger":"server","caller":"log/log.go:52","msg":"配置警告","service":"user-api","version":"v1.0.0","key":"timeout","value":30,"warning":"接近系统默认上限","level":"warn"}
{"level":"info","time":"2025-08-07 22:56:29.417","logger":"server.db","caller":"log/log.go:56","msg":"开始连接数据库","service":"user-api","version":"v1.0.0","db_type":"mysql","addr":"127.0.0.1:3306"}
{"level":"info","time":"2025-08-07 22:56:29.417","logger":"server.db","caller":"log/log.go:61","msg":"数据库连接成功","service":"user-api","version":"v1.0.0","db_type":"mysql","addr":"127.0.0.1:3306"}
{"level":"info","time":"2025-08-07 22:56:29.417","logger":"server.http","caller":"log/log.go:93","msg":"收到用户登录请求","service":"user-api","version":"v1.0.0","request_id":"req-20250807225629","method":"POST","path":"/api/login","username":"admin"}
{"level":"info","time":"2025-08-07 22:56:29.417","logger":"server.http","caller":"log/log.go:97","msg":"校验用户输入: username=admin, password_len=6","service":"user-api","version":"v1.0.0","request_id":"req-20250807225629","method":"POST","path":"/api/login"}
{"level":"info","time":"2025-08-07 22:56:29.417","logger":"server.http.db","caller":"log/log.go:121","msg":"执行用户查询","service":"user-api","version":"v1.0.0","request_id":"req-20250807225629","method":"POST","path":"/api/login","sql":"SELECT id, username FROM users WHERE username = ?"}
{"level":"info","time":"2025-08-07 22:56:29.567","logger":"server.http","caller":"log/log.go:110","msg":"用户登录成功","service":"user-api","version":"v1.0.0","request_id":"req-20250807225629","method":"POST","path":"/api/login","user_id":1001,"login_ip":"192.168.1.100","cost_ms":156}
{"level":"info","time":"2025-08-07 22:56:29.567","logger":"server.cron","caller":"log/log.go:159","msg":"定时任务调度器启动成功","service":"user-api","version":"v1.0.0"}
{"level":"info","time":"2025-08-07 22:56:29.567","logger":"server","caller":"log/log.go:71","msg":"服务启动完成，监听端口: 8080","service":"user-api","version":"v1.0.0"}
{"level":"info","time":"2025-08-07 22:56:29.567","logger":"server.cron","caller":"log/log.go:176","msg":"start","service":"user-api","version":"v1.0.0"}
{"level":"info","time":"2025-08-07 22:56:29.567","logger":"server.cron","caller":"log/log.go:176","msg":"schedule","service":"user-api","version":"v1.0.0","now":"2025-08-07 22:56:29.567","entry":1,"next":"2025-08-07 22:57:00.000"}
{"level":"info","time":"2025-08-07 22:56:59.999","logger":"server.cron","caller":"log/log.go:176","msg":"wake","service":"user-api","version":"v1.0.0","now":"2025-08-07 22:56:59.998"}
{"level":"info","time":"2025-08-07 22:57:00.001","logger":"server.cron","caller":"log/log.go:176","msg":"wake","service":"user-api","version":"v1.0.0","now":"2025-08-07 22:57:00.000"}
{"level":"info","time":"2025-08-07 22:57:00.001","logger":"server.cron","caller":"log/log.go:176","msg":"run","service":"user-api","version":"v1.0.0","now":"2025-08-07 22:57:00.000","entry":1,"next":"2025-08-07 22:58:00.000"}
{"level":"info","time":"2025-08-07 22:57:00.001","logger":"server.cron","caller":"log/log.go:141","msg":"开始执行数据备份","service":"user-api","version":"v1.0.0","task":"data_backup","timestamp":1754578620}
{"level":"info","time":"2025-08-07 22:57:00.001","logger":"server.cron","caller":"log/log.go:151","msg":"数据备份完成","service":"user-api","version":"v1.0.0","task":"data_backup","timestamp":1754578620,"size_mb":256,"cost_s":12}
{"level":"info","time":"2025-08-07 22:57:59.999","logger":"server.cron","caller":"log/log.go:176","msg":"wake","service":"user-api","version":"v1.0.0","now":"2025-08-07 22:57:59.998"}
{"level":"info","time":"2025-08-07 22:58:00.000","logger":"server.cron","caller":"log/log.go:176","msg":"wake","service":"user-api","version":"v1.0.0","now":"2025-08-07 22:58:00.000"}
{"level":"info","time":"2025-08-07 22:58:00.000","logger":"server.cron","caller":"log/log.go:176","msg":"run","service":"user-api","version":"v1.0.0","now":"2025-08-07 22:58:00.000","entry":1,"next":"2025-08-07 22:59:00.000"}
{"level":"info","time":"2025-08-07 22:58:00.000","logger":"server.cron","caller":"log/log.go:141","msg":"开始执行数据备份","service":"user-api","version":"v1.0.0","task":"data_backup","timestamp":1754578680}
{"level":"info","time":"2025-08-07 22:58:00.000","logger":"server.cron","caller":"log/log.go:151","msg":"数据备份完成","service":"user-api","version":"v1.0.0","task":"data_backup","timestamp":1754578680,"size_mb":256,"cost_s":12}
{"level":"info","time":"2025-08-07 22:58:59.998","logger":"server.cron","caller":"log/log.go:176","msg":"wake","service":"user-api","version":"v1.0.0","now":"2025-08-07 22:58:59.997"}
{"level":"info","time":"2025-08-07 22:59:00.002","logger":"server.cron","caller":"log/log.go:176","msg":"wake","service":"user-api","version":"v1.0.0","now":"2025-08-07 22:59:00.001"}
{"level":"info","time":"2025-08-07 22:59:00.002","logger":"server.cron","caller":"log/log.go:176","msg":"run","service":"user-api","version":"v1.0.0","now":"2025-08-07 22:59:00.001","entry":1,"next":"2025-08-07 23:00:00.000"}
{"level":"info","time":"2025-08-07 22:59:00.002","logger":"server.cron","caller":"log/log.go:141","msg":"开始执行数据备份","service":"user-api","version":"v1.0.0","task":"data_backup","timestamp":1754578740}
{"level":"info","time":"2025-08-07 22:59:00.002","logger":"server.cron","caller":"log/log.go:151","msg":"数据备份完成","service":"user-api","version":"v1.0.0","task":"data_backup","timestamp":1754578740,"size_mb":256,"cost_s":12}
{"level":"info","time":"2025-08-07 22:59:59.999","logger":"server.cron","caller":"log/log.go:176","msg":"wake","service":"user-api","version":"v1.0.0","now":"2025-08-07 22:59:59.999"}
{"level":"info","time":"2025-08-07 23:00:00.000","logger":"server.cron","caller":"log/log.go:176","msg":"wake","service":"user-api","version":"v1.0.0","now":"2025-08-07 23:00:00.000"}
{"level":"info","time":"2025-08-07 23:00:00.001","logger":"server.cron","caller":"log/log.go:176","msg":"run","service":"user-api","version":"v1.0.0","now":"2025-08-07 23:00:00.000","entry":1,"next":"2025-08-07 23:01:00.000"}
{"level":"info","time":"2025-08-07 23:00:00.001","logger":"server.cron","caller":"log/log.go:141","msg":"开始执行数据备份","service":"user-api","version":"v1.0.0","task":"data_backup","timestamp":1754578800}
{"level":"error","time":"2025-08-07 23:00:00.001","logger":"server.cron","caller":"log/log.go:144","msg":"数据备份失败","service":"user-api","version":"v1.0.0","task":"data_backup","timestamp":1754578800,"retry_after":"5m","error":"disk full: 备份目录空间不足"}
