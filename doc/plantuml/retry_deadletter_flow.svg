<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: retry_deadletter_flow Pages: 1 -->
<svg width="845pt" height="228pt"
 viewBox="0.00 0.00 845.00 228.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 224)">
<title>retry_deadletter_flow</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-224 841,-224 841,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_ops</title>
<path fill="none" stroke="black" d="M293,-46C293,-46 817,-46 817,-46 823,-46 829,-52 829,-58 829,-58 829,-111 829,-111 829,-117 823,-123 817,-123 817,-123 293,-123 293,-123 287,-123 281,-117 281,-111 281,-111 281,-58 281,-58 281,-52 287,-46 293,-46"/>
<text text-anchor="middle" x="555" y="-107.8" font-family="Times,serif" font-size="14.00">Operator Actions</text>
</g>
<!-- producer -->
<g id="node1" class="node">
<title>producer</title>
<polygon fill="none" stroke="black" points="104,-168 0,-168 0,-130 104,-130 104,-168"/>
<text text-anchor="middle" x="52" y="-152.8" font-family="Arial" font-size="14.00">Producer</text>
<text text-anchor="middle" x="52" y="-137.8" font-family="Arial" font-size="14.00">(write attempt)</text>
</g>
<!-- retry_topic -->
<g id="node2" class="node">
<title>retry_topic</title>
<polygon fill="none" stroke="black" points="472.5,-220 469.5,-224 448.5,-224 445.5,-220 339.5,-220 339.5,-182 472.5,-182 472.5,-220"/>
<text text-anchor="middle" x="406" y="-204.8" font-family="Arial" font-size="14.00">Retry Topic</text>
<text text-anchor="middle" x="406" y="-189.8" font-family="Arial" font-size="14.00">(backoff consumer)</text>
</g>
<!-- producer&#45;&gt;retry_topic -->
<g id="edge1" class="edge">
<title>producer&#45;&gt;retry_topic</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M104.17,-159.78C110.17,-160.92 116.21,-162.03 122,-163 191.98,-174.78 272.19,-185.27 329.31,-192.23"/>
<polygon fill="black" stroke="black" points="328.99,-195.71 339.34,-193.44 329.83,-188.77 328.99,-195.71"/>
<text text-anchor="middle" x="196.5" y="-187.8" font-family="Times,serif" font-size="14.00">on transient errors</text>
</g>
<!-- dead -->
<g id="node3" class="node">
<title>dead</title>
<polygon fill="none" stroke="#aa0000" points="463.5,-38 342.5,-38 342.5,0 469.5,0 469.5,-32 463.5,-38"/>
<polyline fill="none" stroke="#aa0000" points="463.5,-38 463.5,-32 "/>
<polyline fill="none" stroke="#aa0000" points="469.5,-32 463.5,-32 "/>
<text text-anchor="middle" x="406" y="-22.8" font-family="Arial" font-size="14.00">Dead&#45;letter</text>
<text text-anchor="middle" x="406" y="-7.8" font-family="Arial" font-size="14.00">(inspection/replay)</text>
</g>
<!-- producer&#45;&gt;dead -->
<g id="edge2" class="edge">
<title>producer&#45;&gt;dead</title>
<path fill="none" stroke="#aa0000" stroke-dasharray="1,5" d="M86.65,-129.85C130.18,-105.88 208.99,-65.15 281,-42 297.38,-36.73 315.39,-32.53 332.48,-29.24"/>
<polygon fill="#aa0000" stroke="#aa0000" points="333.22,-32.66 342.42,-27.41 331.95,-25.78 333.22,-32.66"/>
<text text-anchor="middle" x="196.5" y="-111.8" font-family="Times,serif" font-size="14.00">on permanent errors</text>
</g>
<!-- retry_consumer -->
<g id="node4" class="node">
<title>retry_consumer</title>
<polygon fill="none" stroke="black" points="816,-189 673,-189 673,-151 816,-151 816,-189"/>
<text text-anchor="middle" x="744.5" y="-173.8" font-family="Arial" font-size="14.00">Retry Consumer</text>
<text text-anchor="middle" x="744.5" y="-158.8" font-family="Arial" font-size="14.00">(exp backoff handler)</text>
</g>
<!-- retry_topic&#45;&gt;retry_consumer -->
<g id="edge3" class="edge">
<title>retry_topic&#45;&gt;retry_consumer</title>
<path fill="none" stroke="black" d="M472.68,-194.95C526.99,-189.95 604.36,-182.82 662.5,-177.46"/>
<polygon fill="black" stroke="black" points="663.12,-180.92 672.76,-176.52 662.48,-173.95 663.12,-180.92"/>
<text text-anchor="middle" x="595.5" y="-191.8" font-family="Times,serif" font-size="14.00">retry path</text>
</g>
<!-- dlq_handler -->
<g id="node5" class="node">
<title>dlq_handler</title>
<polygon fill="none" stroke="black" points="821,-92 668,-92 668,-54 821,-54 821,-92"/>
<text text-anchor="middle" x="744.5" y="-76.8" font-family="Arial" font-size="14.00">DLQ Handler</text>
<text text-anchor="middle" x="744.5" y="-61.8" font-family="Arial" font-size="14.00">(alert + manual replay)</text>
</g>
<!-- dead&#45;&gt;dlq_handler -->
<g id="edge5" class="edge">
<title>dead&#45;&gt;dlq_handler</title>
<path fill="none" stroke="black" d="M469.58,-27.01C518.75,-33.54 588.9,-43.4 650,-54 652.53,-54.44 655.11,-54.9 657.7,-55.37"/>
<polygon fill="black" stroke="black" points="657.32,-58.85 667.79,-57.23 658.59,-51.97 657.32,-58.85"/>
<text text-anchor="middle" x="595.5" y="-57.8" font-family="Times,serif" font-size="14.00">alert + analyze</text>
</g>
<!-- retry_consumer&#45;&gt;producer -->
<g id="edge4" class="edge">
<title>retry_consumer&#45;&gt;producer</title>
<path fill="none" stroke="black" d="M672.53,-165.5C629.32,-162.92 573,-159.84 523,-158 376.49,-152.61 204.17,-150.35 114.4,-149.49"/>
<polygon fill="black" stroke="black" points="114.17,-145.98 104.13,-149.39 114.1,-152.98 114.17,-145.98"/>
<text text-anchor="middle" x="406" y="-161.8" font-family="Times,serif" font-size="14.00">retry path</text>
</g>
<!-- alert -->
<g id="node6" class="node">
<title>alert</title>
<polygon fill="none" stroke="black" points="523,-92 289,-92 289,-56 523,-56 523,-92"/>
<text text-anchor="middle" x="406" y="-70.3" font-family="Arial" font-size="14.00">Alert: DeadLetter spike / retry spikes</text>
</g>
<!-- alert&#45;&gt;dlq_handler -->
<g id="edge6" class="edge">
<title>alert&#45;&gt;dlq_handler</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M523.28,-73.65C567.41,-73.52 616.83,-73.38 657.66,-73.26"/>
<polygon fill="black" stroke="black" points="657.85,-76.75 667.84,-73.22 657.83,-69.75 657.85,-76.75"/>
</g>
</g>
</svg>
